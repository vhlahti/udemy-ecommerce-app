<div class="form-floating mt-4 mb-2">
    <input
        [type]="type"
        (input)="onChange($event.target.value)"
        (blur)="onTouched()"
        id="{{ label }}"
        #input
        class="form-control"
        placeholder="{{ label }}"
        [ngClass]="(controlDir.control.touched) ? controlDir.control.invalid ? 'is-invalid' : 'is-valid' : null">

    <div *ngIf="controlDir && controlDir.control && controlDir.control.status === 'PENDING'">
        <fa-icon class="loader" animation="spin" [icon]="faSpinner"></fa-icon>
    </div>

    <label for="{{ label }}">{{ label }}</label>

    <div class="invalid-feedback" *ngIf="(controlDir && controlDir.control && !controlDir.control.valid && controlDir.control.touched)">
        <span *ngIf="controlDir.control.errors?.['required']">
            {{ label }} is required.
        </span>
        <span *ngIf="controlDir.control.errors?.['pattern']">
            Invalid email address.
        </span>
    </div>

    <div class="invalid-feedback d-block" *ngIf="(controlDir && controlDir.control && !controlDir.control.valid && controlDir.control.dirty)">
        <span *ngIf="controlDir.control.errors?.['emailExists']">
            Email address is in use.
        </span>
    </div>
 
  </div>